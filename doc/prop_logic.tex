\chapter{命題論理}
\section{命題論理}
\subsection{命題論理とは}
命題(proposition)とは
\begin{quotation}
 正しい(真)か正しくない(偽)か決定できる式および文
\end{quotation}
である.\footnote{ゲーテルの不完全性定理はここでは考慮しない.}

論理(logic)とは
\begin{quotation}
 思考,議論のため法則,ルール
\end{quotation}
である.

ここでは\textgt{論理}は\textgt{数理論理}である.
数理論理は\textgt{概念}を記号に置き換え\textgt{演算}を適用し,形式的に議論を進める.
\textgt{命題論理}(propositional logic)は命題を形式化し演算(法則,ルール)により関係を調べる技法である.

\subsection{基本記号の導入}
基本記号には,命題定数,命題変数,基本述語,論理記号,括弧がある.
\begin{description}
 \item[命題定数] 真(true),偽(false)のことである. 真は$\top$,偽は$\bot$.
 \item[命題変数] 形式的に,$A,B,C,A_1,B_2,...$と表される.
 \item[基本述語] 命題変数同士での関係を表す記号である. $=,\in$など.
 \item[論理記号] 命題(命題定数と命題変数)に演算を施す. $\lnot,\land,\lor,\to$.
 \item[括弧] 命題同士の基本述語,論理記号での結合に強さを与える.$(,)$.
\end{description}

\subsection{論理式}
命題定数と命題変数を論理記号と括弧で結合したものを,\textgt{論理式}(formula)という.
\begin{dfn}
 論理式
 \begin{enumerate}
  \item 命題定数$\top,\bot$は論理式である.
  \item 命題変数は論理式である.
  \item $A,B$が任意の論理式ならば,$(A) \land (B),(A) \lor (B), \lnot (A), (A) \to (B))$は論理式である.
  \item 1から3を満たすものだけが論理式である.
 \end{enumerate}
\end{dfn}

\subsection{真理表}
論理式は命題変数が,独立して真や偽を取るとき,真または偽を取ることができる.
論理記号の演算による結果を表にした物を真理表(truth table)と言う.
以下,$p,q$を論理式とする
\begin{enumerate}
 \item 論理積 (logical product, conjunction, $\land$)

   $p,q$がともに真であるとき,$(p) \land (q)$は真である.

	   \begin{tabular}{|c c||c|}
		\hline
		$p$    & $q$    & $(p) \land (q)$ \\
		\hhline{|==#=|}
		$\top$ & $\top$ & $\top$ \\
		\hline
		$\top$ & $\bot$ & $\bot$ \\
		\hline
		$\bot$ & $\top$ & $\bot$ \\
		\hline
		$\bot$ & $\bot$ & $\bot$ \\
		\hline
	   \end{tabular}

 \item 論理和 (logical sum, disjunction, $\lor$)

	   $p,q$がともに偽であるとき,$(p) \lor (q)$は偽である.

	   \begin{tabular}{|c c||c|}
		\hline
		$p$    & $q$    & $(p) \lor (q)$ \\
		\hhline{|==#=|}
		$\top$ & $\top$ & $\top$ \\
		\hline
		$\top$ & $\bot$ & $\top$ \\
		\hline
		$\bot$ & $\top$ & $\top$ \\
		\hline
		$\bot$ & $\bot$ & $\bot$ \\
		\hline
	   \end{tabular}

 \item 否定(negation, $\lnot$)

	   $p$が真のとき,$\lnot (p)$は偽である.
	   $p$が偽のとき,$\lnot (p)$は真である.

	   \begin{tabular}{|c||c|}
		\hline
		$p$    & $\lnot (p) $ \\
		\hhline{|=#=|}
		$\top$ & $\bot$ \\
		\hline
		$\bot$ & $\top$ \\
		\hline
	   \end{tabular}

 \item 含意(implication,$\to$)

	   $p$が真で,$q$が偽であるときに限り,偽である.

	   含意は$p$の仮定より$q$が導かれるという内容を形式化した物である.

	   \begin{tabular}{|c c||c|}
		\hline
		$p$    & $q$    & $(p) \to (q)$ \\
		\hhline{|==#=|}
		$\top$ & $\top$ & $\top$ \\
		\hline
		$\top$ & $\bot$ & $\bot$ \\
		\hline
		$\bot$ & $\top$ & $\top$ \\
		\hline
		$\bot$ & $\bot$ & $\top$ \\
		\hline
	   \end{tabular}
\end{enumerate}

以上の論理記号の結合の強さは,$\lnot > \land = \lor > \to$であり,$\land,\lor$は左結合である.
更に,$((p) \to (q)) \land ((q) \to (p))$の略号として,
\textgt{同値}(equivalence,$\leftrightarrow$)を導入する.真理表は以下のようになる.

\begin{tabular}{|c c||c|}
 \hline
 $p$    & $q$    & $(p) \leftrightarrow (q)$ \\
 \hhline{|==#=|}
 $\top$ & $\top$ & $\top$ \\
 \hline
 $\top$ & $\bot$ & $\bot$ \\
 \hline
 $\bot$ & $\top$ & $\bot$ \\
 \hline
 $\bot$ & $\bot$ & $\top$ \\
 \hline
\end{tabular}
\newline
\newline
$\leftrightarrow$は以下を満たす.

\begin{center}
 \begin{tabular}{ll}
  $p \leftrightarrow q$ & \textgt{反射律} (reflexive law) \\
  $p \leftrightarrow q$ ならば $q \leftrightarrow p$ & \textgt{対称律} (symmetric law) \\
  $p \leftrightarrow q$ かつ $q \leftrightarrow r$ ならば $p \leftrightarrow r$ & \textgt{推移律} (transitive law) \\
 \end{tabular}
\end{center}

上の３つの関係を満たす場合,同値関係(equivalence relation)と言う.

論理式内で括弧をつけなくても結合順位が明確な場合,括弧を省略する.

真理表より論理式を演算し真理値を得ることができる.
例として
$\lnot (p \land p) \leftrightarrow  \lnot p \lor \lnot q$(ド・モルガン律)を演算する.
\begin{center}
 \begin{tabular}{|c c||c|c||c|c|c||c|}
  \hline
  $p$ & $q$ &
		  $p \land q$ & $\lnot (p \land q)$ &
				  $\lnot p$ & $\lnot q$ & $\lnot p \lor \lnot q$ &
							  $\lnot (p \land q) \leftrightarrow \lnot p \lor \lnot q$ \\
  \hhline{|==#=|=#=|=|=#=|}
  $\top$ & $\top$ & $\top$ & $\bot$ & $\bot$ & $\bot$ & $\bot$ & $\top$ \\
  \hline
  $\top$ & $\bot$ & $\bot$ & $\top$ & $\bot$ & $\top$ & $\top$ & $\top$ \\
  \hline
  $\bot$ & $\top$ & $\bot$ & $\top$ & $\top$ & $\bot$ & $\top$ & $\top$ \\
  \hline
  $\bot$ & $\bot$ & $\bot$ & $\top$ & $\top$ & $\top$ & $\top$ & $\top$ \\
  \hline
 \end{tabular}
\end{center}

\subsection{附値}
命題変数を元とする集合を$I$とする.また,命題定数の集合を$B=\{\top,\bot\}$とする.
関数はまだ定義できないが,関数の考え方を借用した関数論理式を定義する.
\begin{equation*}
 \nu:I \to B
\end{equation*}
$\nu$を\textgt{附値}(valuation)と言う.

\subsection{恒真}
恒に真である命題を恒真(tautology,valid)といい,恒に真である論理式を恒真式という.
真理値表の結果がすべて,$\top$となる命題論理式である.
命題論理式$A$が恒真であるとき,任意の附値$\nu$について$\nu(A)=\top$.
命題論理式$A$が恒真であるとき,$\models A$と書く.
以下は恒真である命題論理式である.

\begin{align}
 A \land A \leftrightarrow A & \quad & \text{(ベキ等律,idempotent law)} \\
 A \lor A \leftrightarrow A & \quad & \text{(ベキ等律)} \\
 A \land B \leftrightarrow B \land A & \quad & \text{(交換律,commutative law)} \\
 A \lor B \leftrightarrow B \lor A & \quad & \text{(交換律)} \\
 (A \lor B) \lor C \leftrightarrow A \lor (B \lor C) & \quad & \text{(結合律,associative law)} \\
 (A \land B) \land C \leftrightarrow A \land (B \land C) & \quad & \text{(結合律)} \\
 (A \land B) \lor C \leftrightarrow (A \lor C) \land (B \lor C) & \quad & \text{(分配律,distributive law)} \\
 (A \lor B) \land C \leftrightarrow (A \land C) \lor (B \land C) & \quad & \text{(分配律)} \\
 (A \land B) \lor A \leftrightarrow A & \quad & \text{(吸収律,absorptive law)} \\
 (A \lor B) \land A \leftrightarrow A & \quad & \text{(吸収律)} \\
 \lnot (A \land B) \leftrightarrow \lnot A \lor \lnot B & \quad & \text{(ド・モルガン律,de Morgan's law)} \\
 \lnot (A \lor B) \leftrightarrow \lnot A \land \lnot B & \quad & \text{(ド・モルガン律)}
\end{align}

恒に偽となる論理式を\textgt{矛盾}と言う.

\subsection{充足可能}
命題論理式$A$が\textgt{充足可能}(satisfiable)とは,$A$が$\nu(A)=\top$となるような,附値$\nu$が存在する.
真理値表の結果が一つ以上,$\top$となる命題論理式である.

\section{形式化体系}
論理式を内容の\textgt{意味}と真偽を考慮して取り扱う方法論を\textgt{意味論,セマンティクス}(semantics)と言い,
論理式の意味に立ち入らず形式的な\textgt{構造}を取り出して扱う方法論を\textgt{構文論,シンタックス}(syntax)と言う.
構文論を適用すると形式的体系(formal system)を得ることができる.

ここでいくつかの定義を与える.
\begin{dfn}
 公理(axiom)

 無条件で真と仮定する命題のこと
\end{dfn}

\begin{dfn}
 推論規則(rule of inference)

 前提となる論理式から帰結となる論理式を導出する規則である.
 以下,$\phi,\psi$を論理式とすると,
 \begin{prooftree}
  \AxiomC{$\phi_1,...,\phi_i$}
  \RightLabel{$(R_j)$}
  \UnaryInfC{$\psi$}
 \end{prooftree}
 のように記述し,規則$R_j$により$\phi_1,...,\phi_i$から$\psi$が導出されることを示す.
\end{dfn}

\begin{dfn}
 形式化体系

 形式化体系とは,以下の集合のである.
 \begin{enumerate}
  \item 公理系(axioms)とよばれる公理の集合.
  \item 推論規則を元とする集合.
 \end{enumerate}
\end{dfn}

形式化体系の構築には,推論規則をできる限り少なくする方針,公理をできる限り少なくする方針がある.
Sを形式化体系の一つとする.

\begin{dfn}
 証明

 形式化体系Sにおける$\phi$の\textgt{証明}(proof)とは,論理式の有限列$\phi_1,...,\phi_n(\phi_n=\phi)$が次の条件を満たすことである.
 各$i(i=1,...,n)$に対して,
 \begin{enumerate}
  \item $\phi_i$はSの公理である.
  \item $\phi_i$がSの推論規則の一つを適用することにより,有限個の論理式$\phi_j (j<i)$から導かれる.
 \end{enumerate}
\end{dfn}

論理式の集合$\Gamma={\phi_1,...,\phi_n}$から$\psi$を導出されることを
\begin{equation*}
 \Gamma \vdash \psi
\end{equation*}
と表す,$\Gamma$は前提,仮定,$\psi$は帰結と言う.
公理からのみ導かれる帰結の場合,
\begin{equation*}
 \vdash \psi
\end{equation*}
と書ける.上記の場合,$\psi$は($\Gamma$から)\textgt{証明可能}と言う.

\begin{dfn}
 定理(theorem)

 $\phi$が定理とは,Sにおける$\phi$の証明が存在することを言う.
\end{dfn}

形式化体系には,ヒルベルト(Hilbert)流,ゲンツェン(Gentzen)の自然演繹(NJ),ゲンツェンのシーケント計算(LJ)などがある.
\subsection{ヒルベルト流}
推論規則をできる限り少なくして構築した形式化体系の一つである.
\subsubsection{定義}
\begin{dfn}
 ヒルベルト流

 \begin{enumerate}
  \renewcommand{\labelenumii}{\arabic{enumii}.}
  \item 基本記号
		\begin{description}
		 \item [論理記号] $\to$
		 \item [命題定数] $\top,\bot$
		 \item [命題変数] $A,B,...,A_1,A_2,...,B_1,B_2,..$
		 \item [補助記号] 括弧,$\lnot,\land,\lor,\leftrightarrow$
		\end{description}

  \item 論理式

		論理式は以下のように帰納的に定義する.
		\begin{enumerate}
		 \item 命題変数,命題定数は論理式である.
		 \item $\phi,\psi$が論理式ならば,$\lnot \phi, \phi \to \psi$は論理式である.
		 \item 上２つを満たすもだけが論理式である.
		\end{enumerate}

  \item 公理系

		公理系を構成する公理は以下である.
		\begin{align}
		 \phi \to (\psi \to \phi) \tag{HA1} \\
		 (\phi \to (\psi \to \chi)) \to ((\phi \to \psi) \to (\phi \to \chi)) \tag{HA2} \\
		 (\lnot \phi \to \lnot \psi) \to ((\lnot \phi \to \psi) \to \phi) \tag{HA3}
		\end{align}

  \item 推論規則
		\textgt{modus ponens}のみである.以降,略して\textgt{MP}.
		 \begin{prooftree}
		  \AxiomC{$\phi \to \psi$}
		  \AxiomC{$\phi$}
		  \RightLabel{$(MP)$}
		  \BinaryInfC{$\psi$}
		 \end{prooftree}
 \end{enumerate}

\end{dfn}

\begin{dfn}
 補助記号の定義
 \begin{align*}
  \lnot \phi                & \coloneqq  \phi \to \bot \\
  \phi \lor \psi            & \coloneqq  \lnot \phi \to \psi \\
  \phi \land \psi           & \coloneqq  \lnot (\phi \to \lnot \psi) \\
  \phi \leftrightarrow \psi & \coloneqq (\phi \to \psi) \land (\psi \to \phi)
 \end{align*}
\end{dfn}

上の形式化体系を$\bm{H}$とする.
$\bm{H}$を用いた証明の例として$\vdash \phi \to \phi$を証明する.

\begin{lemma}
\label{rule_same_imp}
\begin{equation*}
 \vdash \phi \to \phi
\end{equation*}
\end{lemma}

\begin{proof}
 以下の証明図による.
\begin{prooftree}
 \AxiomC{[HA2]} \AxiomC{$\psi \to (\phi \to \phi$)} \AxiomC{$\chi \to \phi$}
 \LeftLabel{(1)}
 \TrinaryInfC{$(\phi \to ((\phi \to \phi) \to \phi)) \to ((\phi \to (\phi \to \phi)) \to (\phi \to \phi))$}
\end{prooftree}
\begin{prooftree}
 \alwaysNoLine
 \AxiomC{(1)}
 \AxiomC{[HA1]}
 \UnaryInfC{$\phi \to ((\phi \to \phi) \to \phi)$}
 \alwaysSingleLine
 \RightLabel{$(MP)$}
 \BinaryInfC{$(\phi \to (\phi \to \phi)) \to (\phi \to \phi)$}
 \alwaysNoLine
 \AxiomC{[HA1]}
 \UnaryInfC{$\phi \to (\phi \to \phi)$}
 \alwaysSingleLine
 \RightLabel{$(MP)$}
 \BinaryInfC{$\phi \to \phi$}

\end{prooftree}
\end{proof}

\subsubsection{演繹定理}
\textgt{演繹}とは,普遍な命題から特殊な命題(限定された命題)を導く論理的推論である.
形式化体系の推論規則で演繹が行えることを保証するのが\textgt{演繹定理}である.

\begin{thm}
 演繹定理(deduction theorem)

 $\Gamma$を論理式の集合とする,$\phi,\psi$を論理式とするとき,Hにおいて,
 \begin{equation*}
  \Gamma, \phi \vdash \psi \quad ならば \quad \Gamma \vdash \phi \to \psi
 \end{equation*}
 である.

\end{thm}
\begin{proof}
 集合$\Gamma$に論理式$\phi$を加えた集合を$\Gamma \cup \{\phi\}$と表記する.仮定より,$\Gamma \cup \{\phi\}$から,$\psi$を導く証明が存在する.その証明を,$\psi_1,...,\psi_n$とする$(\psi_n=\psi)$.
すべての$i(1 \leq i \leq n)$に対して,$\Gamma \vdash \phi \to \psi_i$が成立することを,帰納法により証明する.
 \begin{description}
  \item[$i=1$のとき] $\psi_1$は以下の何れかである.
			 \begin{enumerate}
			  \item $H$の公理である.
			  \item $\psi_1$は,$\Gamma$に属する.
			  \item $\psi_1=\phi$である.
			 \end{enumerate}
			 1,2の場合
			 \begin{enumerate}
			  \renewcommand{\labelenumi}{\arabic{enumi})}
			  \item $\psi_1$
			  \item $\psi_1 \to (\phi \to \psi_1)$ (HA1)
			  \item $\phi \to \psi_1$ (1,2,MP)
			 \end{enumerate}
			 より$\phi \to \psi_1$が得られる. \\
			 3の場合,$\phi \to \psi$から,$\Gamma \vdash \phi \to \psi_1$が成立する.
  \item[$i>1$のとき]
			 $k<i$であるすべての$k$について,$\Gamma \vdash \phi \to \psi_k$が成り立つと仮定する. \\
			 $\psi_i$は以下の何れかである.
			 \begin{enumerate}
			  \item $\psi_i$は,$\Gamma$に属する.
			  \item $H$の公理である.
			  \item $\psi_1=\phi$である.
			  \item $\psi_i,\psi_j,(j<i)$とすると,$\psi_j,(\psi_j\to\psi_i)\vdash\psi_i$ (MP)
			 \end{enumerate}
			 1から3の場合は,$i=1$と同様にして,$\Gamma \vdash \phi \to \psi_i$. \\
			 4の場合
			 \renewcommand{\labelenumi}{\arabic{enumi})}
			 \begin{enumerate}
			  \item $\Gamma \vdash \phi \to \psi_j$
			  \item $\Gamma \vdash \phi \to (\psi_j \to \psi_i)$
			  \item $\Gamma \vdash (\phi \to (\psi_j \to \psi_i)) \to ((\phi \to \psi_j) \to (\phi \to \psi_i))$ (HA2)
			  \item $\Gamma \vdash (\phi \to \psi_j) \to (\phi \to \psi_i)$ (3,MP)
			  \item $\Gamma \vdash \phi \to \psi_i$ (1,MP)
			 \end{enumerate}
			 から,$\Gamma \vdash \phi \to \psi_i$が成立する.
 \end{description}
\end{proof}
これは,形式化体系によって導かれる定理でなく,形式化体系自身の定理である.
前者との区別のために,メタ定理(meta theorem)と言う.

演繹定理から得られる補題を証明する.
 \begin{lemma}
  \label{rule0}
  任意の論理式$\phi,\psi,\chi$において以下が成立する.
  \begin{enumerate}
   \item $\phi \to \psi, \psi \to \chi \vdash \phi \to \chi$
   \item $\phi \to (\psi \to \chi), \psi \vdash \phi \to \chi$
  \end{enumerate}
 \end{lemma}

\begin{proof}\mbox{}
 \begin{enumerate}
  \item
	   演繹定理より,$\phi \to \psi, \psi \to \chi, \phi \vdash \chi$ならば,$\phi \to \psi, \psi \to \chi \vdash \phi \to \chi$.
	   $\phi \to \psi, \psi \to \chi, \phi \vdash \chi$を証明する.
	   \begin{prooftree}
		\AxiomC{$\phi$}
		\AxiomC{$\phi \to \psi$}
		\RightLabel{$(MP)$}
		\BinaryInfC{$\psi$}
		\AxiomC{$\psi \to \chi$}
		\RightLabel{$(MP)$}
		\BinaryInfC{$\chi$}
	   \end{prooftree}
  \item
	   演繹定理より,$\phi \to (\psi \to \chi), \psi, \phi \vdash \chi$ならば,$\phi \to (\psi \to \chi), \psi \vdash \phi \to \chi$.
	   $\phi \to (\psi \to \chi), \psi, \phi \vdash \chi$を証明する.
	   \begin{prooftree}
		\AxiomC{$\psi$}
		\AxiomC{$\phi$}
		\AxiomC{$\phi \to (\psi \to \chi)$}
		\RightLabel{$(MP)$}
		\BinaryInfC{$\psi \to \chi$}
		\RightLabel{$(MP)$}
		\BinaryInfC{$\chi$}
	   \end{prooftree}
 \end{enumerate}
\end{proof}

 \begin{lemma}
  \label{rule1}
  任意の論理式$\phi,\psi$において以下が成立する.
  \begin{enumerate}
   \item $\vdash \lnot \lnot \phi \to \phi$
   \item $\vdash \phi \to \lnot \lnot \phi$
   \item $\vdash \lnot \phi \to (\phi \to \psi)$
   \item $\vdash (\lnot \psi \to \lnot \phi) \to (\phi \to \psi)$
   \item $\vdash (\phi \to \psi) \to (\lnot \psi \to \lnot \phi)$
  \end{enumerate}
 \end{lemma}

 \begin{proof} \mbox{}
  \begin{enumerate}
   \item \mbox{}
		 \begin{prooftree}
		  \alwaysNoLine
		  \AxiomC{[HA3]}
		  \UnaryInfC{$(\lnot \phi \to \lnot \lnot \phi) \to ((\lnot \phi \to \lnot \phi) \to \phi)$}
		  \AxiomC{[Lemma \ref{rule_same_imp}]}
		  \UnaryInfC{$\lnot \phi \to \lnot \phi$}
		  \alwaysSingleLine
		  \RightLabel{(Lemma \ref{rule0}.2)}
		  \LeftLabel{(1)}
		  \BinaryInfC{$(\lnot \phi \to \lnot \lnot \phi) \to \phi$}
		 \end{prooftree}
		 \begin{prooftree}
		  \alwaysNoLine
		  \AxiomC{[HA1]}
		  \UnaryInfC{$\lnot \lnot \phi \to (\lnot \phi \to \lnot \lnot \phi)$}
		  \AxiomC{(1)}
		  \UnaryInfC{$(\lnot \phi \to \lnot \lnot \phi) \to \phi$}
		  \RightLabel{(Lemma \ref{rule0}.1)}
		  \alwaysSingleLine
		  \BinaryInfC{$\lnot \lnot \phi \to \phi$}
		 \end{prooftree}
   \item \mbox{}
		 \begin{prooftree}
		  \alwaysNoLine
		  \AxiomC{[Lemma \ref{rule1}.1]}
		  \UnaryInfC{$\lnot \lnot \lnot \phi \to \lnot \phi$}
		  \AxiomC{[HA3]}
		  \UnaryInfC{$(\lnot \lnot \lnot \phi \to \lnot \phi) \to ((\lnot \lnot \lnot \phi \to \phi) \to \lnot \lnot \phi)$}
		  \alwaysSingleLine
		  \RightLabel{(Lemma \ref{rule0}.2)}
		  \LeftLabel{(1)}
		  \BinaryInfC{$(\lnot \lnot \lnot \phi \to \phi) \to \lnot \lnot \phi$}
		 \end{prooftree}
		 \begin{prooftree}
		  \alwaysNoLine
		  \AxiomC{[HA1]}
		  \UnaryInfC{$\phi \to (\lnot \lnot \lnot \phi \to \phi)$}
		  \AxiomC{(1)}
		  \UnaryInfC{$(\lnot \lnot \lnot \phi \to \phi) \to \lnot \lnot \phi$}
		  \alwaysSingleLine
		  \RightLabel{(Lemma \ref{rule0}.1)}
		  \BinaryInfC{$\phi \to \lnot \lnot \phi$}
		 \end{prooftree}
   \item \mbox{}
		 演繹定理より,$\lnot \phi,\phi \vdash \psi$ならば,$\vdash \lnot \phi \to (\phi \to \psi)$.
		 であるので,$\lnot \phi,\phi \vdash \psi$を証明する.
		 \begin{prooftree}
		  \alwaysNoLine
		  \AxiomC{$\phi$}
		  \AxiomC{[HA1]}
		  \UnaryInfC{$\phi \to (\lnot \psi \to \phi)$}
		  \alwaysSingleLine
		  \LeftLabel{(1)}
		  \RightLabel{(MP)}
		  \BinaryInfC{$\lnot \psi \to \phi$}
		 \end{prooftree}
		 \begin{prooftree}
		  \alwaysNoLine
		  \AxiomC{$\lnot \phi$}
		  \AxiomC{[HA1]}
		  \UnaryInfC{$\lnot \phi \to (\lnot \psi \to \lnot \phi)$}
		  \alwaysSingleLine
		  \LeftLabel{(2)}
		  \RightLabel{(MP)}
		  \BinaryInfC{$\lnot \psi \to \lnot \phi$}
		 \end{prooftree}

		 \begin{prooftree}
		  \alwaysNoLine
		  \AxiomC{(1)}
		  \UnaryInfC{$\lnot \psi \to \phi$}
		  \AxiomC{(2)}
		  \UnaryInfC{$\lnot \psi \to \lnot \phi$}
		  \AxiomC{[HA3]}
		  \UnaryInfC{($\lnot \psi \to \lnot \phi) \to ((\lnot \psi \to \phi) \to \psi))$}
		  \alwaysSingleLine
		  \RightLabel{(MP)}
		  \BinaryInfC{$(\lnot \psi \to \phi) \to \psi$}
		  \RightLabel{(MP)}
		  \BinaryInfC{$\psi$}
		 \end{prooftree}
   \item \mbox{}
		 演繹定理より,$(\lnot \psi \to \lnot \phi) \vdash (\phi \to \psi)$ならば
		 $\vdash (\lnot \psi \to \lnot \phi) \to (\phi \to \psi)$であるので,
		 $(\lnot \psi \to \lnot \phi) \vdash (\phi \to \psi)$を証明する.
		 \begin{prooftree}
		  \alwaysNoLine
		  \AxiomC{[HA1]}
		  \UnaryInfC{$\phi \to (\lnot \psi \to \phi)$}
		  \AxiomC{$\lnot \psi \to \lnot \phi$}
		  \AxiomC{[HA3]}
		  \UnaryInfC{($\lnot \psi \to \lnot \phi) \to ((\lnot \psi \to \phi) \to \psi))$}
		  \alwaysSingleLine
		  \RightLabel{(MP)}
		  \BinaryInfC{$(\lnot \psi \to \phi) \to \psi$}
		  \RightLabel{(Lemma \ref{rule0}.1)}
		  \BinaryInfC{$\phi \to \psi$}
		 \end{prooftree}
   \item \mbox{}
		 演繹定理より,$(\phi \to \psi) \vdash (\lnot \psi \to \lnot \phi)$ならば,
		 $\vdash (\phi \to \psi) \to (\lnot \psi \to \lnot \phi)$であるので,
		 $(\phi \to \psi) \vdash (\lnot \psi \to \lnot \phi)$を証明する.
		 \begin{prooftree}
		  \alwaysNoLine
		  \AxiomC{[Lemma \ref{rule1}.1]}
		  \UnaryInfC{$\lnot \lnot \phi \to \phi$}
		  \AxiomC{$\phi \to \psi$}
		  \alwaysSingleLine
		  \RightLabel{(Lemma \ref{rule0}.1)}
		  \BinaryInfC{$\lnot \lnot \phi \to \psi$}
		  \alwaysNoLine
		  \AxiomC{[Lemma \ref{rule1}.1]}
		  \UnaryInfC{$\psi \to \lnot \lnot \psi$}
		  \alwaysSingleLine
		  \RightLabel{(Lemma \ref{rule0}.1)}
		  \LeftLabel{(1)}
		  \BinaryInfC{$\lnot \lnot \phi \to \lnot \lnot \psi$}
		 \end{prooftree}
		 \begin{prooftree}
		  \alwaysNoLine
		  \AxiomC{(1)}
		  \UnaryInfC{$\lnot \lnot \phi \to \lnot \lnot \psi$}
		  \AxiomC{[Lemma \ref{rule1}.4]}
		  \UnaryInfC{$(\lnot \lnot \phi \to \lnot \lnot \psi) \to (\lnot \psi \to \lnot \phi)$}
		  \alwaysSingleLine
		  \RightLabel{(MP)}
		  \BinaryInfC{$\lnot \psi \to \lnot \phi$}
		 \end{prooftree}
  \end{enumerate}
 \end{proof}

\subsubsection{コンパクト性}
\textgt{コンパクト性}(compactness)とは,論理式の集合に対して,その任意の有限部分集合が個別に充足可能ならば,
集合全体を同時に充足する解釈が存在することを言う.

\begin{thm}
 コンパクト性定理(compactness theorem)

 命題論理の論理式の集合Tが充足可能なのは,その任意の有限部分集合が充足可能なときである.

\end{thm}
\begin{proof}
 Tが充足可能なら,その任意の有限部分集合が充足可能なのは明らか.
\end{proof}

\subsubsection{完全性定理}
定理$\phi$は公理$T$からの証明可能でないといけないし,定理$\phi$が証明可能ならば公理$T$は恒真で,推論規則は恒真を保つ.
前者は完全性(completeness),後者は健全性(soundness)という.形式化体系で両者が同値であることを示すのが\textgt{完全性定理}
である.

\begin{thm}
 形式化体系$\bm{H}$の完全性定理(compactness theorem)

 任意の論理式$\phi$において,$\models \phi \leftrightarrow \vdash \phi$
\end{thm}

上の定理を証明するのに,まず健全性を証明する.
\begin{lemma}
 形式化体系$\bm{H}$の健全性定理(soundness theorem)

 任意の論理式$\phi$において,$\vdash \phi \to \models \phi$
\end{lemma}
\begin{proof}
 真理値表より$\bm{H}$の公理は恒真である.
\begin{center}
\begin{tabular}{|c c||c||c|}
\hline
$\phi$ & $\psi$ & $\psi \to \phi$ & $\phi \to (\psi \to \phi)$ \\
\hhline{|==#=#=|}
$\top$ & $\top$ & $\top$ & $\top$ \\
\hline
$\top$ & $\bot$ & $\top$ & $\top$ \\
\hline
$\bot$ & $\top$ & $\bot$ & $\top$ \\
\hline
$\bot$ & $\bot$ & $\top$ & $\top$ \\
\hline
\end{tabular}
\end{center}

\begin{center}
\begin{tabular}{|c c c||c|c||c|c||c|}
\hline
$\phi$ & $\psi$ & $\chi$ & $\psi \to \chi$ & $\phi \to (\psi \to \chi)$ & $\phi \to \psi$ & $ \phi \to \chi $ & $ (\phi \to \psi) \to (\phi \to \chi) $ \\
\hhline{|===#=|=#=|=#=|}
$\top$ & $\top$ & $\top$ & $\top$ & $\top$ & $\top$ & $\top$ & $\top$ \\
\hline
$\top$ & $\top$ & $\bot$ & $\bot$ & $\bot$ & $\top$ & $\bot$ & $\bot$ \\
\hline
$\top$ & $\bot$ & $\top$ & $\top$ & $\top$ & $\bot$ & $\top$ & $\top$ \\
\hline
$\top$ & $\bot$ & $\bot$ & $\top$ & $\bot$ & $\bot$ & $\bot$ & $\top$ \\
\hline
$\bot$ & $\top$ & $\top$ & $\top$ & $\top$ & $\top$ & $\top$ & $\top$ \\
\hline
$\bot$ & $\top$ & $\bot$ & $\bot$ & $\bot$ & $\top$ & $\bot$ & $\bot$ \\
\hline
$\bot$ & $\bot$ & $\top$ & $\top$ & $\top$ & $\top$ & $\top$ & $\top$ \\
\hline
$\bot$ & $\bot$ & $\bot$ & $\top$ & $\top$ & $\top$ & $\top$ & $\top$ \\
\hline
\end{tabular}
\end{center}

\begin{center}
\begin{tabular}{|c c c||c|}
\hline
$\phi$ & $\psi$ & $\chi$ & $(\phi \to (\psi \to \chi)) \to ((\phi \to \psi) \to (\phi \to \chi))$ \\
\hhline{|===#=|}
$\top$ & $\top$ & $\top$ & $\top$ \\
\hline
$\top$ & $\top$ & $\bot$ & $\top$ \\
\hline
$\top$ & $\bot$ & $\top$ & $\top$ \\
\hline
$\top$ & $\bot$ & $\bot$ & $\top$ \\
\hline
$\bot$ & $\top$ & $\top$ & $\top$ \\
\hline
$\bot$ & $\top$ & $\bot$ & $\top$ \\
\hline
$\bot$ & $\bot$ & $\top$ & $\top$ \\
\hline
$\bot$ & $\bot$ & $\bot$ & $\top$ \\
\hline
\end{tabular}
\end{center}

\begin{center}
\begin{tabular}{|c c||c|c||c|c|c||c|}
\hline
$\phi$ & $\psi$ & $\lnot \phi$ & $\lnot \psi$ & $\lnot \phi \to \lnot \psi$ & $\lnot \phi \to \psi$ & $(\lnot \phi \to \psi) \to \phi$ & $(\lnot \phi \to \lnot \psi) \to ((\lnot \phi \to \psi) \to \phi)$ \\
\hhline{|==#=|=#=|=|=#=|}
$\top$ & $\top$ & $\bot$ & $\bot$ & $\top$ & $\top$ & $\top$ & $\top$ \\
\hline
$\top$ & $\bot$ & $\bot$ & $\top$ & $\top$ & $\top$ & $\top$ & $\top$ \\
\hline
$\bot$ & $\top$ & $\top$ & $\bot$ & $\bot$ & $\top$ & $\top$ & $\top$ \\
\hline
$\bot$ & $\bot$ & $\top$ & $\top$ & $\top$ & $\bot$ & $\top$ & $\top$ \\
\hline
\end{tabular}
\end{center}

形式化体系$\bm{H}$の推論規則はMPのみなので,MPが恒真を保てば健全性を証明できる.
$\models \phi$かつ$\models \phi \to \psi$ならば$\models \psi$を証明する.
\begin{proof}
 $\psi$が恒真でないとすると,$\phi \to \psi$は恒真でない.
 仮定では,$\models \phi$かつ$\models \phi \to \psi$.
 $\phi \to \psi$の真理値表より,$\psi$が$\bot$の場合,$\models \phi \to \psi$でなくなり,矛盾してしまう.
 なので,$\models \psi$
\end{proof}
MPは仮定の2つが恒真式なら1つの恒真式を導く.
\end{proof}

次に,任意の論理式$\phi$において,$\models \phi \to \vdash \phi$を証明ために,次の補題を使う.
\begin{lemma}
 附値$\nu$と命題変数$p$について
 \begin{equation*}
  p^\nu \coloneqq
	\begin{cases}
	 p & \nu(p) = \top のとき \\
	 \lnot p & \nu(p) = \bot のとき
	\end{cases}
 \end{equation*}
 と置く.
 論理式$\phi$は$p_1,...,p_n$以外の命題変数を含まないとして,
 \begin{align}
  \nu(\phi) &= \top ならば, p_1^{\nu},...,p_n^{\nu} \vdash \phi \label{eq1} \\
  \nu(\phi) &= \bot ならば, p_1^{\nu},...,p_n^{\nu} \vdash \lnot \phi \label{eq2}
 \end{align}
\end{lemma}

\begin{proof}
 $\phi$には$\lnot, \to$以外の論理記号は含まれないとし,$\phi$に含まれる論理記号の数$n$についての帰納法で証明する.
 \begin{enumerate}
  \item $n=0$のとき,$\phi$は命題変数$p_1$に等しい,$\nu(p_1)=\top$ならば,$p_1^{\nu}=p_1, p_1 \vdash p_1$,$\nu(p_1)=\bot$ならば,$p_1^{\nu}=\lnot p_1, \lnot p_1 \vdash \lnot p_1$で成立.
  \item $n>0$のとき,$i<k$なるすべての$i$について,定理が成立していると仮定する.
		\begin{enumerate}
		 \renewcommand{\labelenumii}{\arabic{enumii})}
		 \renewcommand{\labelenumiii}{(\roman{enumiii})}
		 \item $\phi$が$\lnot \psi$のとき. \newline
			   $\psi$の論理記号の個数は$\phi$の論理記号より1つ少ない.
			   $\psi$の附値が$\top$か$\bot$で場合分けをする.
			   \begin{enumerate}
				\item $\nu(\psi)$が$\top$を取るとき$\nu(\phi)$は$\bot$をとる.なので,$p_1^{\nu},...,p_n^{\nu} \vdash \psi, p_1^{\nu},...,p_n^{\nu} \vdash \lnot \phi$.
					  $p_1^{\nu},...,p_n^{\nu} \vdash \psi$について,Lemma.\ref{rule1}.2と(MP)より$p_1^{\nu},...,p_n^{\nu} \vdash \lnot \lnot \psi$.
					  $\phi$が$\lnot \psi$から$\phi$が$\lnot \psi$.仮定から,$\phi=\lnot \psi$であるので, $p_1^{\nu},...,p_n^{\nu} \vdash \lnot \phi$.
					  より,$\psi$の附値が$\top$は矛盾しない.
				\item $\nu(\psi)$が$\bot$を取るとき$\nu(\phi)$は$\top$をとる.$p_1^{\nu},...,p_n^{\nu} \vdash \phi, p_1^{\nu},...,p_n^{\nu} \vdash \lnot \psi$.
					  $p_1^{\nu},...,p_n^{\nu} \vdash \lnot \psi$は仮定から,$\phi=\lnot \psi$であるので, $p_1^{\nu},...,p_n^{\nu} \vdash \phi$から,
					  $\psi$の附値が$\bot$は矛盾しない.
			   \end{enumerate}
		 \item $\phi$が$\psi \to \theta$のとき. \newline
			   $\psi,\theta$の論理記号の個数は$\phi$の論理記号より1つ少ない.より,$p_1^{\nu},...,p_n^{\nu} \vdash \psi, p_1^{\nu},...,p_n^{\nu} \vdash \theta$.
			   $\nu(\psi \to \theta)$が$\top$または$\bot$どれを取るかで場合分けをする. 真理値表より,$\nu(\psi)$が$\bot$を取るとき$\nu(\psi \to \theta)$が$\top$,
			   $\nu(\theta)$が$\top$を取るとき$\nu(\psi \to \theta)$が$\top$,$\nu(\psi)$が$\top$かつ$\nu(\theta)$が$\bot$のとき$\nu(\psi \to \theta)$が$\bot$.
			   \begin{enumerate}
				\item $\nu(\psi)$が$\bot$のとき. $p_1^{\nu},...,p_n^{\nu} \vdash \lnot \psi$.
					  $\nu(\phi)$は$\top$であるので,$p_1^{\nu},...,p_n^{\nu} \vdash \phi$から$p_1^{\nu},...,p_n^{\nu} \vdash \psi \to \theta$.
					  Lemma.\ref{rule1}.3より,$p_1^{\nu},...,p_n^{\nu} \vdash \lnot \psi$から$p_1^{\nu},...,p_n^{\nu} \vdash \psi \to \theta$を得るので,
					  矛盾しない.
				\item $\nu(\theta)$が$\top$のとき. $p_1^{\nu},...,p_n^{\nu} \vdash \theta$. $\nu(\phi)$は$\top$であるので,
					  $p_1^{\nu},...,p_n^{\nu} \vdash \phi$から$p_1^{\nu},...,p_n^{\nu} \vdash \psi \to \theta$.
					  $p_1^{\nu},...,p_n^{\nu} \vdash \theta$と(HA1)より,$p_1^{\nu},...,p_n^{\nu} \vdash \psi \to \theta$が成立し矛盾しない.
				\item $\nu(\psi)$が$\top$かつ$\nu(\theta)$が$\bot$のとき. \newline
					  
			   \end{enumerate}
		\end{enumerate}
 \end{enumerate}
\end{proof}

\subsection{自然演繹(NK)}

\subsection{シーケント計算(LK)}

\begin{thebibliography}{9}
 \bibitem{144626_1Mar20}
		新井敏康 『数学基礎論』 岩波書店 2016 ISBN 978-4-00-730459-0
 \bibitem{155129_8Feb20}
		松本和夫 『復刊 数理論理学』 共立出版 2001 ISBN 978-4-320-01682-8
 \bibitem{180205_8Feb20}
		島内剛一 『数学の基礎』 日本評論社 1971 ISBN 978-4-535-60106-2
 \bibitem{102203_9Feb20}
		高崎金久 『数理論理学入門』 \url{http://www2.yukawa.kyoto-u.ac.jp/~kanehisa.takasaki/edu/logic/index.html}
\end{thebibliography}
